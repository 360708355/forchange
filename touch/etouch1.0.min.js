!function(a,b){function c(a,b,c,d){return Math.abs(a-b)>=Math.abs(c-d)?a-b>0?"left":"right":c-d>0?"up":"down"}function d(a,b,c,d){function f(a,b,c){var e,d=a[0].querySelectorAll(b);for(e=0;e<d.length;e++)if(d[e]==c)return!0}if("string"==typeof c)a[0].addEventListener(b,function(b){for(var e=b.target,g=b.currentTarget,h=!0;h&&e!=g;)f(a,c,e)&&(h=d.call(e,b)),e=e.parentNode;return h},!1);else for(var e=0;e<a.length;e++)a[e].addEventListener(b,d,!1)}function e(a,c){return this.root=document.querySelectorAll(a),this.target=null,this.root?(this.touchObj={status:"",pageX:0,pageY:0,clientX:0,clientY:0,distanceX:0,distanceY:0},this.isTap=!1,this.time=0,this.selector=c,this.Event=[],arguments[2]==b?this.operate(arguments[1]):this.operate(arguments[2]),void 0):(console.log("root不存在"),void 0)}function f(a,b,c){c.init();var d=a.touches[0];b.pageX=d.pageX,b.pageY=d.pageY,b.clientX=d.clientX,b.clientY=d.clientY,c.time=+new Date}function g(a,b,c,d){var e=a.touches[0];c.status="swiper",c.distanceX=e.pageX-c.pageX,c.distanceY=e.pageY-c.pageY,"swiper"==c.status&&d.trigger(c.status,a,c)}function h(a,b,d,e,f){var i,j,k,l,g=a.changedTouches[0],h=+new Date-e.time;d.distanceX=g.pageX-d.pageX,d.distanceY=g.pageY-d.pageY,i=d.pageX,j=d.pageX+d.distanceX,k=d.pageY,l=d.pageY+d.distanceY,d.status=c(i,j,k,l),150>h&&Math.abs(d.distanceX)<2&&Math.abs(d.distanceY)<2?(e.isTap=!0,e.isTap&&(d.status="tap",setTimeout(function(){e.isTap=!1,f.call(b,a,d)},30))):e.trigger(d.status,a,d)}e.prototype.init=function(){this.touchObj.distanceX=0,this.touchObj.distanceY=0},e.prototype.operate=function(a){var b=this.touchObj,e=(this.isTap,this);return d(this.root,"touchstart",this.selector,function(a){e.target=this,f(a,b,e)}),d(this.root,"touchmove",this.selector,function(a){g(a,this,b,e)}),d(this.root,"touchend",this.selector,function(c){h(c,this,b,e,a)}),this},e.prototype.trigger=function(a,b){this.touchObj.status;for(var d=0;d<this.Event.length;d++)this.Event[d].type==a&&this.Event[d].method.call(this.target,b,this.touchObj);return this},e.prototype.on=function(a,b){return this.Event.push({type:a,method:b}),this},"function"==typeof define&&(define.amd||define.cmd)?define(function(){return e(root,selector,fn)}):a.etouch=function(a,b,c){return new e(a,b,c)}}(window,void 0);